



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>connectomics.data &mdash; connectomics latest documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.svg"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/css/pytc-theme.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@1.0.0-alpha.28/dist/style.min.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="connectomics.engine" href="engine.html" />
    <link rel="prev" title="Synapse Detection" href="../tutorials/synapse.html" /> 

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">

    <a class="header-logo" href="https://zudi-lin.github.io/pytorch_connectomics/build/html/index.html" aria-label="PyTorch"></a>

    <div class="header-container">

      <div class="main-menu">
        <ul>
          <li>
            <a href="../index.html">Get Started</a>
          </li>
          <li>
            <a href="../tutorials/snemi.html">Tutorials</a>
          </li>
          <li>
            <a href="../index.html">Docs</a>
          </li>
          <li>
            <a href="https://github.com/zudi-lin/pytorch_connectomics/tree/master">Github</a>
          </li>
          <li>
            <a href="../about.html">About Us</a>
          </li>

        </ul>
      </div>

      <!-- <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a> -->
    </div>

  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  latest
                </div>
              
            

            <div id="docsearch"></div>

            
          </div>

          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Get Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/config.html">Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/dataloading.html">Data Loading</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/neuron.html">Neuron Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/mito.html">Mitochondria Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/synapse.html">Synapse Detection</a></li>
</ul>
<p class="caption"><span class="caption-text">Package Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">connectomics.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="engine.html">connectomics.engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="model.html">connectomics.model</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">connectomics.utils</a></li>
</ul>
<p class="caption"><span class="caption-text">Team</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/team.html">About Us</a></li>
</ul>

            
          
        </div>
      </div>

      


    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>connectomics.data</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/modules/data.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <div class="section" id="connectomics-data">
<h1>connectomics.data<a class="headerlink" href="#connectomics-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-connectomics.data.dataset">
<span id="connectomics-data-dataset"></span><h2>connectomics.data.dataset<a class="headerlink" href="#module-connectomics.data.dataset" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="connectomics.data.dataset.TileDataset">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.dataset.</span></code><code class="sig-name descname"><span class="pre">TileDataset</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_num</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[2,</span> <span class="pre">2,</span> <span class="pre">2]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_num_ind</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_iter</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_stride</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">volume_json</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'path/to/image.json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_json</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_mask_json</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_volume_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(8,</span> <span class="pre">64,</span> <span class="pre">64)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_label_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_stride</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">connectomics.data.augmentation.composition.Compose</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_opt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">['0']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_opt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[['1']]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_2d</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_erosion</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_size_thres</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_diversity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/dataset_tile.html#TileDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.TileDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset class for large-scale tile-based datasets. Large-scale volumetric datasets are usually stored as
individual tiles. Directly loading them as a single array for training and inference is infeasible. This
class reads the paths of the tiles and construct smaller chunks for processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_num</strong> (<em>list</em>) – volume spliting parameters in <span class="math notranslate nohighlight">\((z, y, x)\)</span> order. Default: <span class="math notranslate nohighlight">\([2, 2, 2]\)</span></p></li>
<li><p><strong>chunk_num_ind</strong> (<em>list</em>) – predefined list of chunks. Default: <cite>None</cite></p></li>
<li><p><strong>chunk_iter</strong> (<em>int</em>) – number of iterations on each chunk. Default: -1</p></li>
<li><p><strong>chunk_stride</strong> (<em>bool</em>) – allow overlap between chunks. Default: <cite>True</cite></p></li>
<li><p><strong>volume_json</strong> (<em>str</em>) – json file for input image. Default: <code class="docutils literal notranslate"><span class="pre">'path/to/image'</span></code></p></li>
<li><p><strong>label_json</strong> (<em>str</em><em>, </em><em>optional</em>) – json file for label. Default: <cite>None</cite></p></li>
<li><p><strong>valid_mask_json</strong> (<em>str</em><em>, </em><em>optional</em>) – json file for valid mask. Default: <cite>None</cite></p></li>
<li><p><strong>valid_ratio</strong> (<em>float</em>) – volume ratio threshold for valid samples. Default: 0.5</p></li>
<li><p><strong>sample_volume_size</strong> (<em>tuple</em><em>, </em><em>int</em>) – model input size.</p></li>
<li><p><strong>sample_label_size</strong> (<em>tuple</em><em>, </em><em>int</em>) – model output size.</p></li>
<li><p><strong>sample_stride</strong> (<em>tuple</em><em>, </em><em>int</em>) – stride size for sampling.</p></li>
<li><p><strong>augmentor</strong> (<em>connectomics.data.augmentation.composition.Compose</em><em>, </em><em>optional</em>) – data augmentor for training. Default: <cite>None</cite></p></li>
<li><p><strong>target_opt</strong> (<em>list</em>) – list the model targets generated from segmentation labels.</p></li>
<li><p><strong>weight_opt</strong> (<em>list</em>) – list of options for generating pixel-wise weight masks.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">'train'</span></code>, <code class="docutils literal notranslate"><span class="pre">'val'</span></code> or <code class="docutils literal notranslate"><span class="pre">'test'</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">'train'</span></code></p></li>
<li><p><strong>do_2d</strong> (<em>bool</em>) – load 2d samples from 3d volumes. Default: <cite>False</cite></p></li>
<li><p><strong>label_erosion</strong> (<em>int</em>) – label erosion parameter to widen border. Default: 0</p></li>
<li><p><strong>pad_size</strong> (<em>list</em>) – padding parameters in <span class="math notranslate nohighlight">\((z, y, x)\)</span> order. Default: <span class="math notranslate nohighlight">\([0,0,0]\)</span></p></li>
<li><p><strong>reject_size_thres</strong> (<em>int</em><em>, </em><em>optional</em>) – threshold to decide if a sampled volumes contains foreground objects. Default: 0</p></li>
<li><p><strong>reject_diversity</strong> (<em>int</em><em>, </em><em>optional</em>) – threshold to decide if a sampled volumes contains multiple objects. Default: 0</p></li>
<li><p><strong>reject_p</strong> (<em>float</em><em>, </em><em>optional</em>) – probability of rejecting non-foreground volumes. Default: 0.95</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.dataset.TileDataset.get_coord_name">
<code class="sig-name descname"><span class="pre">get_coord_name</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/dataset_tile.html#TileDataset.get_coord_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.TileDataset.get_coord_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the filename suffix based on the chunk coordinates.</p>
</dd></dl>

<dl class="py method">
<dt id="connectomics.data.dataset.TileDataset.loadchunk">
<code class="sig-name descname"><span class="pre">loadchunk</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/dataset_tile.html#TileDataset.loadchunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.TileDataset.loadchunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the chunk based on current coordinates and construct a VolumeDataset for processing.</p>
</dd></dl>

<dl class="py method">
<dt id="connectomics.data.dataset.TileDataset.updatechunk">
<code class="sig-name descname"><span class="pre">updatechunk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_load</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/dataset_tile.html#TileDataset.updatechunk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.TileDataset.updatechunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the coordinates to a new chunk in the large volume.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.dataset.VolumeDataset">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.dataset.</span></code><code class="sig-name descname"><span class="pre">VolumeDataset</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">volume</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_mask</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_volume_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(8,</span> <span class="pre">64,</span> <span class="pre">64)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_label_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(8,</span> <span class="pre">64,</span> <span class="pre">64)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_stride</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(1,</span> <span class="pre">1,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">connectomics.data.augmentation.composition.Compose</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_opt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">['1']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_opt</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[['1']]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_2d</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_num</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_size_thres</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_diversity</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reject_p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.95</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/dataset_volume.html#VolumeDataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.VolumeDataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset class for volumetric image datasets. At training time, subvolumes are randomly sampled from all the large
input volumes with (optional) rejection sampling to increase the frequency of foreground regions in a batch. At inference
time, subvolumes are yielded in a sliding-window manner with overlap to counter border artifacts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>volume</strong> (<em>list</em>) – list of image volumes.</p></li>
<li><p><strong>label</strong> (<em>list</em><em>, </em><em>optional</em>) – list of label volumes. Default: None</p></li>
<li><p><strong>valid_mask</strong> (<em>list</em><em>, </em><em>optional</em>) – list of valid masks. Default: None</p></li>
<li><p><strong>valid_ratio</strong> (<em>float</em>) – volume ratio threshold for valid samples. Default: 0.5</p></li>
<li><p><strong>sample_volume_size</strong> (<em>tuple</em><em>, </em><em>int</em>) – model input size.</p></li>
<li><p><strong>sample_label_size</strong> (<em>tuple</em><em>, </em><em>int</em>) – model output size.</p></li>
<li><p><strong>sample_stride</strong> (<em>tuple</em><em>, </em><em>int</em>) – stride size for sampling.</p></li>
<li><p><strong>augmentor</strong> (<em>connectomics.data.augmentation.composition.Compose</em><em>, </em><em>optional</em>) – data augmentor for training. Default: None</p></li>
<li><p><strong>target_opt</strong> (<em>list</em>) – list the model targets generated from segmentation labels.</p></li>
<li><p><strong>weight_opt</strong> (<em>list</em>) – list of options for generating pixel-wise weight masks.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – <code class="docutils literal notranslate"><span class="pre">'train'</span></code>, <code class="docutils literal notranslate"><span class="pre">'val'</span></code> or <code class="docutils literal notranslate"><span class="pre">'test'</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">'train'</span></code></p></li>
<li><p><strong>do_2d</strong> (<em>bool</em>) – load 2d samples from 3d volumes. Default: False</p></li>
<li><p><strong>iter_num</strong> (<em>int</em>) – total number of training iterations (-1 for inference). Default: -1</p></li>
<li><p><strong>reject_size_thres</strong> (<em>int</em><em>, </em><em>optional</em>) – threshold to decide if a sampled volumes contains foreground objects. Default: 0</p></li>
<li><p><strong>reject_diversity</strong> (<em>int</em><em>, </em><em>optional</em>) – threshold to decide if a sampled volumes contains multiple objects. Default: 0</p></li>
<li><p><strong>reject_p</strong> (<em>float</em><em>, </em><em>optional</em>) – probability of rejecting non-foreground volumes. Default: 0.95</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For relatively small volumes, the total number of possible subvolumes can be smaller than the total number
of samples required in training (the product of total iterations and mini-natch size), which raises <em>StopIteration</em>.
Therefore the dataset length is also decided by the training settings.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="connectomics.data.dataset.build_dataloader">
<code class="sig-prename descclassname"><span class="pre">connectomics.data.dataset.</span></code><code class="sig-name descname"><span class="pre">build_dataloader</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/build.html#build_dataloader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.build_dataloader" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare dataloader for training and inference.</p>
</dd></dl>

<dl class="py function">
<dt id="connectomics.data.dataset.get_dataset">
<code class="sig-prename descclassname"><span class="pre">connectomics.data.dataset.</span></code><code class="sig-name descname"><span class="pre">get_dataset</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'train'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rank</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dir_name_init</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_name_init</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/dataset/build.html#get_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.dataset.get_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare dataset for training and inference.</p>
</dd></dl>

</div>
<div class="section" id="module-connectomics.data.augmentation">
<span id="connectomics-data-augmentation"></span><h2>connectomics.data.augmentation<a class="headerlink" href="#module-connectomics.data.augmentation" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="connectomics.data.augmentation.Compose">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">Compose</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transforms</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">list</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">(8,</span> <span class="pre">256,</span> <span class="pre">256)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_uncropped</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_non_smoothed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/composition.html#Compose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Compose" title="Permalink to this definition">¶</a></dt>
<dd><p>Composing a list of data transforms.</p>
<p>The sample size of the composed augmentor can be larger than the
specified input size of the model to ensure that all pixels are
valid after center-crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>transforms</strong> (<em>list</em>) – list of transformations to compose.</p></li>
<li><p><strong>input_size</strong> (<em>tuple</em>) – input size of model in <span class="math notranslate nohighlight">\((z, y, x)\)</span> order. Default: <span class="math notranslate nohighlight">\((8, 256, 256)\)</span></p></li>
<li><p><strong>smooth</strong> (<em>bool</em>) – smoothing the object mask with Gaussian filtering. Default: True</p></li>
<li><p><strong>keep_uncropped</strong> (<em>bool</em>) – keep uncropped image and label. Default: False</p></li>
<li><p><strong>keep_non_smooth</strong> (<em>bool</em>) – keep the non-smoothed object mask. Default: False</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># specify addtional targets besides &#39;image&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;additional_targets&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;mask&#39;</span><span class="p">}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augmentor</span> <span class="o">=</span> <span class="n">Compose</span><span class="p">([</span><span class="n">Rotate</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">Flip</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">Elastic</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">12.0</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">Grayscale</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">MissingParts</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)],</span>
<span class="gp">&gt;&gt;&gt; </span>                     <span class="n">input_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;image&#39;</span><span class="p">:</span><span class="nb">input</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">:</span><span class="n">label</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">augmented</span> <span class="o">=</span> <span class="n">augmentor</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out_input</span><span class="p">,</span> <span class="n">out_label</span> <span class="o">=</span> <span class="n">augmented</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">],</span> <span class="n">augmented</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.CutBlur">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">CutBlur</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">down_ratio_min</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">down_ratio_max</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">8.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample_z</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/cutblur.html#CutBlur"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.CutBlur" title="Permalink to this definition">¶</a></dt>
<dd><p>3D CutBlur data augmentation, adapted from <a class="reference external" href="https://arxiv.org/abs/2004.00448">https://arxiv.org/abs/2004.00448</a>.</p>
<p>Randomly downsample a cuboid region in the volume to force the model
to learn super-resolution when making predictions. This augmentation
is only applied to images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length_ratio</strong> (<em>float</em>) – the ratio of the cuboid length compared with volume length.</p></li>
<li><p><strong>down_ratio_min</strong> (<em>float</em>) – minimal downsample ratio to generate low-res region.</p></li>
<li><p><strong>down_ratio_max</strong> (<em>float</em>) – maximal downsample ratio to generate low-res region.</p></li>
<li><p><strong>downsample_z</strong> (<em>bool</em>) – downsample along the z axis (default: False).</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.CutBlur.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/cutblur.html#CutBlur.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.CutBlur.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no change in sample size.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.CutNoise">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">CutNoise</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'uniform'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/cutnoise.html#CutNoise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.CutNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>3D CutNoise data augmentation.</p>
<p>Randomly add noise to a cuboid region in the volume to force the model
to learn denoising when making predictions. This augmentation is only
applied to images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length_ratio</strong> (<em>float</em>) – the ratio of the cuboid length compared with volume length.</p></li>
<li><p><strong>mode</strong> (<em>string</em>) – the distribution of the noise pattern. Default: <code class="docutils literal notranslate"><span class="pre">'uniform'</span></code>.</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – scale of the random noise. Default: 0.2.</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.CutNoise.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/cutnoise.html#CutNoise.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.CutNoise.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no change in sample size.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.DataAugment">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">DataAugment</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/augmentor.html#DataAugment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.DataAugment" title="Permalink to this definition">¶</a></dt>
<dd><p>DataAugment interface. A data augmentor needs to conduct the following steps:</p>
<ol class="arabic simple">
<li><p>Set <code class="xref py py-attr docutils literal notranslate"><span class="pre">sample_params</span></code> at initialization to compute required sample size.</p></li>
<li><p>Randomly generate augmentation parameters for the current transform.</p></li>
<li><p>Apply the transform to a pair of images and corresponding labels.</p></li>
</ol>
<p>All the real data augmentations (except mix-up augmentor and test-time augmentor)
should be a subclass of this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.DataAugment.set_params">
<em class="property"><span class="pre">abstract</span> </em><code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/augmentor.html#DataAugment.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.DataAugment.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the appropriate sample size with data augmentation.</p>
<p>Some data augmentations (wrap, misalignment, etc.) require a larger sample
size than the original, depending on the augmentation parameters that are
randomly chosen. This function takes the data augmentation
parameters and returns an updated data sampling size accordingly.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.Elastic">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">Elastic</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">16.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/warp.html#Elastic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Elastic" title="Permalink to this definition">¶</a></dt>
<dd><p>Elastic deformation of images as described in <a class="reference internal" href="#simard2003" id="id1"><span>[Simard2003]</span></a> (with modifications).
The implementation is based on <a class="reference external" href="https://gist.github.com/erniejunior/601cdf56d2b424757de5">https://gist.github.com/erniejunior/601cdf56d2b424757de5</a>.
This augmentation is applied to both images and masks.</p>
<dl class="citation">
<dt class="label" id="simard2003"><span class="brackets"><a class="fn-backref" href="#id1">Simard2003</a></span></dt>
<dd><p>Simard, Steinkraus and Platt, “Best Practices for
Convolutional Neural Networks applied to Visual Document Analysis”, in
Proc. of the International Conference on Document Analysis and
Recognition, 2003.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alpha</strong> (<em>float</em>) – maximum pixel-moving distance of elastic deformation. Default: 10.0</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – standard deviation of the Gaussian filter. Default: 4.0</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.Elastic.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/warp.html#Elastic.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Elastic.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>The rescale augmentation is only applied to the <cite>xy</cite>-plane. The required
sample size before transformation need to be larger as decided by the maximum
pixel-moving distance (<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.alpha</span></code>).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.Flip">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">Flip</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_ztrans</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/flip.html#Flip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Flip" title="Permalink to this definition">¶</a></dt>
<dd><p>Randomly flip along <cite>z</cite>-, <cite>y</cite>- and <cite>x</cite>-axes as well as swap <cite>y</cite>- and <cite>x</cite>-axes
for anisotropic image volumes. For learning on isotropic image volumes set
<code class="xref py py-attr docutils literal notranslate"><span class="pre">do_ztrans</span></code> to 1 to swap <cite>z</cite>- and <cite>x</cite>-axes (the inputs need to be cubic).
This augmentation is applied to both images and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>do_ztrans</strong> (<em>int</em>) – set to 1 to swap z- and x-axes for isotropic data. Default: 0</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.Flip.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/flip.html#Flip.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Flip.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no change in sample size.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.Grayscale">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">Grayscale</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contrast_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">brightness_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mix'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert_p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/grayscale.html#Grayscale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Grayscale" title="Permalink to this definition">¶</a></dt>
<dd><p>Grayscale intensity augmentation, adapted from ELEKTRONN (<a class="reference external" href="http://elektronn.org/">http://elektronn.org/</a>).</p>
<p>Randomly adjust contrast/brightness, randomly invert the color space
and apply gamma correction. This augmentation is only applied to images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contrast_factor</strong> (<em>float</em>) – intensity of contrast change. Default: 0.3</p></li>
<li><p><strong>brightness_factor</strong> (<em>float</em>) – intensity of brightness change. Default: 0.3</p></li>
<li><p><strong>mode</strong> (<em>string</em>) – one of <code class="docutils literal notranslate"><span class="pre">'2D'</span></code>, <code class="docutils literal notranslate"><span class="pre">'3D'</span></code> or <code class="docutils literal notranslate"><span class="pre">'mix'</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">'mix'</span></code></p></li>
<li><p><strong>invert</strong> (<em>bool</em>) – whether to invert the images. Default: False</p></li>
<li><p><strong>invert_p</strong> (<em>float</em>) – probability of inverting the images. Default: 0.0</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.Grayscale.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/grayscale.html#Grayscale.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Grayscale.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no change in sample size.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.MisAlignment">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">MisAlignment</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">displacement</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">16</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotate_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/misalign.html#MisAlignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MisAlignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Mis-alignment data augmentation of image stacks. This augmentation is
applied to both images and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>displacement</strong> (<em>int</em>) – maximum pixel displacement in <cite>xy</cite>-plane. Default: 16</p></li>
<li><p><strong>rotate_ratio</strong> (<em>float</em>) – ratio of rotation-based mis-alignment. Default: 0.0</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.MisAlignment.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/misalign.html#MisAlignment.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MisAlignment.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>The mis-alignment augmentation is only applied to the <cite>xy</cite>-plane. The required
sample size before transformation need to be larger as decided by <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.displacement</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.MissingParts">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">MissingParts</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterations</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">64</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/missing_parts.html#MissingParts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MissingParts" title="Permalink to this definition">¶</a></dt>
<dd><p>Missing-parts augmentation of image stacks. This augmentation is only
applied to images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterations</strong> (<em>int</em>) – number of iterations in binary dilation. Default: 64</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.MissingParts.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/missing_parts.html#MissingParts.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MissingParts.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no change in sample size.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.MissingSection">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">MissingSection</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_sections</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/missing_section.html#MissingSection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MissingSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Missing-section augmentation of image stacks. This augmentation is applied
to both images and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_sections</strong> (<em>int</em>) – number of missing sections. Default: 2</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.MissingSection.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/missing_section.html#MissingSection.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MissingSection.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>The missing-section augmentation is only applied to the <cite>z</cite>-axis. The required
sample size before transformation need to be larger as decided by <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.num_sections</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.MixupAugmentor">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">MixupAugmentor</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_ratio</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_aug</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/mixup.html#MixupAugmentor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MixupAugmentor" title="Permalink to this definition">¶</a></dt>
<dd><p>Mixup augmentor (experimental). Conduct linear interpolation between two image samples.
The segmentation mask of the sample with higher weight should be used with the augmented output.</p>
<p>The input can be a <cite>numpy.ndarray</cite> or <cite>torch.Tensor</cite> of shape <span class="math notranslate nohighlight">\((B, C, Z, Y, X)\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_ratio</strong> (<em>float</em>) – minimal interpolation ratio of the target volume. Default: 0.7</p></li>
<li><p><strong>max_ratio</strong> (<em>float</em>) – maximal interpolation ratio of the target volume. Default: 0.9</p></li>
<li><p><strong>num_aug</strong> (<em>int</em>) – number of volumes to be augmented in a batch. Default: 2</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">connectomics.data.augmentation</span> <span class="kn">import</span> <span class="n">MixupAugmentor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mixup_augmentor</span> <span class="o">=</span> <span class="n">MixupAugmentor</span><span class="p">(</span><span class="n">num_aug</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">volume</span> <span class="o">=</span> <span class="n">mixup_augmentor</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.MotionBlur">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">MotionBlur</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sections</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/motion_blur.html#MotionBlur"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MotionBlur" title="Permalink to this definition">¶</a></dt>
<dd><p>Motion blur data augmentation of image stacks. This augmentation is only
applied to images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sections</strong> (<em>int</em>) – number of sections along z dimension to apply motion blur. Default: 2</p></li>
<li><p><strong>kernel_size</strong> (<em>int</em>) – kernel size for motion blur. Default: 11</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.MotionBlur.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/motion_blur.html#MotionBlur.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.MotionBlur.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>There is no change in sample size.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.Rescale">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">Rescale</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">low</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix_aspect</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/rescale.html#Rescale"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Rescale" title="Permalink to this definition">¶</a></dt>
<dd><p>Rescale augmentation. This augmentation is applied to both images and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>low</strong> (<em>float</em>) – lower bound of the random scale factor. Default: 0.8</p></li>
<li><p><strong>high</strong> (<em>float</em>) – higher bound of the random scale factor. Default: 1.2</p></li>
<li><p><strong>fix_aspect</strong> (<em>bool</em>) – fix aspect ratio or not. Default: False</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.Rescale.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/rescale.html#Rescale.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Rescale.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>The rescale augmentation is only applied to the <cite>xy</cite>-plane. The required
sample size before transformation need to be larger as decided by the lowest
scaling factor (<code class="xref py py-attr docutils literal notranslate"><span class="pre">self.low</span></code>).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.Rotate">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">Rotate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rot90</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_targets</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/rotation.html#Rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuous rotatation of the <cite>xy</cite>-plane.</p>
<p>If the rotation degree is arbitrary, the sample size for <cite>x</cite>- and <cite>y</cite>-axes should be at
least <span class="math notranslate nohighlight">\(\sqrt{2}\)</span> times larger than the input size to ensure there is no non-valid region
after center-crop. This augmentation is applied to both images and masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rot90</strong> (<em>bool</em>) – rotate the sample by only 90 degrees. Default: True</p></li>
<li><p><strong>p</strong> (<em>float</em>) – probability of applying the augmentation. Default: 0.5</p></li>
<li><p><strong>additional_targets</strong> (<em>dict</em><em>, </em><em>optional</em>) – additional targets to augment. Default: None</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.Rotate.set_params">
<code class="sig-name descname"><span class="pre">set_params</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/rotation.html#Rotate.set_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.Rotate.set_params" title="Permalink to this definition">¶</a></dt>
<dd><p>The rescale augmentation is only applied to the <cite>xy</cite>-plane. If <code class="xref py py-attr docutils literal notranslate"><span class="pre">self.rot90=True</span></code>,
then there is no change in sample size. For arbitrary rotation degree, the required
sample size before transformation need to be <span class="math notranslate nohighlight">\(\sqrt{2}\)</span> times larger.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="connectomics.data.augmentation.TestAugmentor">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">TestAugmentor</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_2d</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_aug</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_factors</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">[1.0,</span> <span class="pre">1.0,</span> <span class="pre">1.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inference_act</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/test_augmentor.html#TestAugmentor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.TestAugmentor" title="Permalink to this definition">¶</a></dt>
<dd><p>Test-time spatial augmentor.</p>
<p>Our test-time augmentation includes horizontal/vertical flips over
the <cite>xy</cite>-plane, swap of <cite>x</cite> and <cite>y</cite> axes, and flip in <cite>z</cite>-dimension,
resulting in 16 variants. Considering inference efficiency, we also
provide the option to apply only horizontal/vertical flips over the
<cite>xy</cite>-plane, resulting in 4 variants. The augmentation can also be applied
to 2D outputs without the <cite>z</cite>-flip. By default the test-time augmentor
returns the pixel-wise mean value of the predictions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>str</em>) – one of <code class="docutils literal notranslate"><span class="pre">'min'</span></code>, <code class="docutils literal notranslate"><span class="pre">'max'</span></code> or <code class="docutils literal notranslate"><span class="pre">'mean'</span></code>. Default: <code class="docutils literal notranslate"><span class="pre">'mean'</span></code></p></li>
<li><p><strong>do_2d</strong> (<em>bool</em>) – the test-time augmentation is applied to 2d images. Default: False</p></li>
<li><p><strong>num_aug</strong> (<em>int</em><em>, </em><em>optional</em>) – number of data augmentation variants: 4, 8 or 16 (3D only). Default: None</p></li>
<li><p><strong>scale_factors</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) – scale factors for resizing the model output. Default: [1.0, 1.0, 1.0]</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Examples::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">connectomics.data.augmentation</span> <span class="kn">import</span> <span class="n">TestAugmentor</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">test_augmentor</span> <span class="o">=</span> <span class="n">TestAugmentor</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">num_aug</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="n">test_augmentor</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">inputs</span><span class="p">)</span> <span class="c1"># output is a numpy.ndarray on CPU</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt id="connectomics.data.augmentation.TestAugmentor.build_from_cfg">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">build_from_cfg</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/test_augmentor.html#TestAugmentor.build_from_cfg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.TestAugmentor.build_from_cfg" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a TestAugmentor from configs.</p>
</dd></dl>

<dl class="py method">
<dt id="connectomics.data.augmentation.TestAugmentor.update_name">
<code class="sig-name descname"><span class="pre">update_name</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/test_augmentor.html#TestAugmentor.update_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.TestAugmentor.update_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the name of the output file to indicate applied test-time augmentations.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="connectomics.data.augmentation.build_train_augmentor">
<code class="sig-prename descclassname"><span class="pre">connectomics.data.augmentation.</span></code><code class="sig-name descname"><span class="pre">build_train_augmentor</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">yacs.config.CfgNode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_uncropped</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_non_smoothed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/connectomics/data/augmentation/build.html#build_train_augmentor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#connectomics.data.augmentation.build_train_augmentor" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the training augmentor based on the options specified in the configuration
file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>yacs.config.CfgNode</em>) – YACS configuration options.</p></li>
<li><p><strong>keep_uncropped</strong> (<em>bool</em>) – keep uncropped data in the output. Default: <cite>False</cite></p></li>
<li><p><strong>keep_non_smoothed</strong> (<em>bool</em>) – keep the masks before smoothing in the output. Default: <cite>False</cite></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The two arguments, keep_uncropped and keep_non_smoothed, are used only for debugging,
which are <cite>False</cite> by defaults and can not be adjusted in the config file.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-connectomics.data.utils">
<span id="connectomics-data-utils"></span><h2>connectomics.data.utils<a class="headerlink" href="#module-connectomics.data.utils" title="Permalink to this headline">¶</a></h2>
</div>
</div>


             </article>
             
            </div>
            <footer>
    
      <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        
          <a href="engine.html" class="btn btn-neutral float-right" title="connectomics.engine" accesskey="n" rel="next">Next <img src="../_static/images/chevron-right-orange.svg" class="next-page"></a>
        
        
          <a href="../tutorials/synapse.html" class="btn btn-neutral" title="Synapse Detection" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
        
      </div>
    
  
    
  
      <hr>
  
    
  
    <div role="contentinfo">
      <p>
          &copy; Copyright 2019-2021, Zudi Lin and Donglai Wei.
  
      </p>
    </div>
      
        <div>
          Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
        </div>
       
  
  </footer>
          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">connectomics.data</a><ul>
<li><a class="reference internal" href="#module-connectomics.data.dataset">connectomics.data.dataset</a></li>
<li><a class="reference internal" href="#module-connectomics.data.augmentation">connectomics.data.augmentation</a></li>
<li><a class="reference internal" href="#module-connectomics.data.utils">connectomics.data.utils</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script src="../_static/jquery.js"></script>
         <script src="../_static/underscore.js"></script>
         <script src="../_static/doctools.js"></script>
         <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <!-- Begin Footer -->

  <!-- commented out for Ignite -->

  <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources">
    <div class="container">
      <div class="row">
        <div class="col-md-4 text-center">
          <h2>Harvard VCG</h2>
          <p>Visual Computing Group at Harvard</p>
          <a class="with-right-arrow" href="https://lichtmanlab.fas.harvard.edu">Harvard VCG</a>
        </div>
        <div class="col-md-4 text-center">
          <h2>Lichtman Lab</h2>
          <p>Lichtman Lab at Harvard</p>
          <a class="with-right-arrow" href="https://lichtmanlab.fas.harvard.edu">Lichtman Lab</a>
        </div>
        <div class="col-md-4 text-center">
          <h2>CBS</h2>
          <p>Center for Brain Science at Harvard</p>
          <a class="with-right-arrow" href="http://cbs.fas.harvard.edu">CBS</a>
        </div>
      </div>
    </div>
  </div>



  <!-- end of commented out for Ignite -->

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. As the current maintainers of this site, Facebook’s Cookies Policy applies. Learn more, including about available controls: <a href="https://www.facebook.com/policies/cookies/">Cookies Policy</a>.</p>
    <img class="close-button" src="../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->
  <!--
  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://zudi-lin.github.io/pytorch_connectomics/build/html/index.html" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>
    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="#">Get Started</a>
          </li>
          <li>
            <a href="#">Features</a>
          </li>
          <li>
            <a href="#">Ecosystem</a>
          </li>
          <li>
            <a href="">Blog</a>
          </li>
          <li>
            <a href="https://zudi-lin.github.io/pytorch_connectomics/build/html/tutorials/snemi.html">Tutorials</a>
          </li>
          <li>
            <a href="https://zudi-lin.github.io/pytorch_connectomics/build/html/index.html">Docs</a>
          </li>
          <li>
            <a href="">Resources</a>
          </li>
          <li>
            <a href="https://github.com/zudi-lin/pytorch_connectomics/tree/master">Github</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  -->
  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    var collapsedSections = ['Notes']
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@1.0.0-alpha.28/dist/umd/index.min.js"></script>
  <script type="text/javascript">
  let VERSION
  if ('latest'.includes('v')) {
    VERSION = 'latest'
  } else {
    VERSION = 'latest'
  }
  docsearch({
    container: '#docsearch',
    apiKey: '19a7a7a75d87608d6f42c722ed1e293f',
    indexName: 'ignite',
    placeholder: 'Search PyTC Docs',
    searchParameters: {
      'facetFilters': [`version:${VERSION}`],
    }
  });
  </script>
</body>
</html>